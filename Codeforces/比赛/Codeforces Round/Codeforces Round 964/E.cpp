#include <iostream>

void Solve(void);

int main(void)
{
	#ifndef ONLINE_JUDGE
	freopen(".in.in"  , "r", stdin );
	freopen(".out.out", "w", stdout);
	#endif

    // 关闭输入输出缓存，使效率提升
    std::ios::sync_with_stdio(false);
    // 解除cin和cout的默认绑定，来降低IO的负担使效率提升
    std::cin.tie(NULL); std::cout.tie(NULL);

    int t(1);
	std::cin >> t;
	while (t--)
	{
		Solve();
		//std::cout << std::endl;
	}
	return 0;
}

void Solve(void)
{
    int l, r;
	std::cin >> l >> r;
	int sum_l;
	int sum_r;
	int extra;

	if (l < 3)
		sum_l = l * 1,
		extra = 1;
	else if (l < 9)
		sum_l = (3 - 1) * 1 + (l - 2) * 2,
		extra = 2;
	else if (l < 27)
		sum_l = (3 - 1) * 1 + (9 - 3) * 2 + (l - 8) * 3,
		extra = 3;
	else if (l < 81)
		sum_l = (3 - 1) * 1 + (9 - 3) * 2 + (27 - 9) * 3 + (l - 26) * 4,
		extra = 4;
	else if (l < 243)
		sum_l = (3 - 1) * 1 + (9 - 3) * 2 + (27 - 9) * 3 + (81 - 27) * 4
			  + (l - 80) * 5,
		extra = 5;
	else if (l < 729)
		sum_l = (3 - 1) * 1 + (9 - 3) * 2 + (27 - 9) * 3 + (81 - 27) * 4
			  + (243 - 81) * 5 + (l - 242) * 6,
		extra = 6;
	else if (l < 2187)
		sum_l = (3 - 1) * 1 + (9 - 3) * 2 + (27 - 9) * 3 + (81 - 27) * 4
			  + (243 - 81) * 5 + (729 - 243) * 6 + (l - 728) * 7,
		extra = 7;
	else if (l < 6561)
		sum_l = (3 - 1) * 1 + (9 - 3) * 2 + (27 - 9) * 3 + (81 - 27) * 4
			  + (243 - 81) * 5 + (729 - 243) * 6 + (2187 - 729) * 7 + (l - 2186) * 8, 
		extra = 8;
	else if (l < 19683)
		sum_l = (3 - 1) * 1 + (9 - 3) * 2 + (27 - 9) * 3 + (81 - 27) * 4
			  + (243 - 81) * 5 + (729 - 243) * 6 + (2187 - 729) * 7 + (6561 - 2187) * 8
			  + (l - 6560) * 9, 
		extra = 9;
	else if (l < 59049)
		sum_l = (3 - 1) * 1 + (9 - 3) * 2 + (27 - 9) * 3 + (81 - 27) * 4
			  + (243 - 81) * 5 + (729 - 243) * 6 + (2187 - 729) * 7 + (6561 - 2187) * 8
			  + (19683 - 6561) * 9 + (l - 19682) * 10, 
		extra = 10;
	else if (l < 177147)
		sum_l = (3 - 1) * 1 + (9 - 3) * 2 + (27 - 9) * 3 + (81 - 27) * 4
			  + (243 - 81) * 5 + (729 - 243) * 6 + (2187 - 729) * 7 + (6561 - 2187) * 8
			  + (19683 - 6561) * 9 + (59049 - 19683) * 10 + (l - 59048) * 11, 
		extra = 11;
	else
		sum_l = (3 - 1) * 1 + (9 - 3) * 2 + (27 - 9) * 3 + (81 - 27) * 4
			  + (243 - 81) * 5 + (729 - 243) * 6 + (2187 - 729) * 7 + (6561 - 2187) * 8
			  + (19683 - 6561) * 9 + (59049 - 19683) * 10 + (177147 - 59049) * 11
			  + (l - 177146) * 12, 
		extra = 12;

	if (r < 3)
		sum_r = r * 1;
	else if (r < 9)
		sum_r = (3 - 1) * 1 + (r - 2) * 2;
	else if (r < 27)
		sum_r = (3 - 1) * 1 + (9 - 3) * 2 + (r - 8) * 3;
	else if (r < 81)
		sum_r = (3 - 1) * 1 + (9 - 3) * 2 + (27 - 9) * 3 + (r - 26) * 4;
	else if (r < 243)
		sum_r = (3 - 1) * 1 + (9 - 3) * 2 + (27 - 9) * 3 + (81 - 27) * 4
			  + (r - 80) * 5;
	else if (r < 729)
		sum_r = (3 - 1) * 1 + (9 - 3) * 2 + (27 - 9) * 3 + (81 - 27) * 4
			  + (243 - 81) * 5 + (r - 242) * 6;
	else if (r < 2187)
		sum_r = (3 - 1) * 1 + (9 - 3) * 2 + (27 - 9) * 3 + (81 - 27) * 4
			  + (243 - 81) * 5 + (729 - 243) * 6 + (r - 728) * 7;
	else if (r < 6561)
		sum_r = (3 - 1) * 1 + (9 - 3) * 2 + (27 - 9) * 3 + (81 - 27) * 4
			  + (243 - 81) * 5 + (729 - 243) * 6 + (2187 - 729) * 7 + (r - 2186) * 8;
	else if (r < 19683)
		sum_r = (3 - 1) * 1 + (9 - 3) * 2 + (27 - 9) * 3 + (81 - 27) * 4
			  + (243 - 81) * 5 + (729 - 243) * 6 + (2187 - 729) * 7 + (6561 - 2187) * 8
			  + (r - 6560) * 9;
	else if (r < 59049)
		sum_r = (3 - 1) * 1 + (9 - 3) * 2 + (27 - 9) * 3 + (81 - 27) * 4
			  + (243 - 81) * 5 + (729 - 243) * 6 + (2187 - 729) * 7 + (6561 - 2187) * 8
			  + (19683 - 6561) * 9 + (r - 19682) * 10;
	else if (r < 177147)
		sum_r = (3 - 1) * 1 + (9 - 3) * 2 + (27 - 9) * 3 + (81 - 27) * 4
			  + (243 - 81) * 5 + (729 - 243) * 6 + (2187 - 729) * 7 + (6561 - 2187) * 8
			  + (19683 - 6561) * 9 + (59049 - 19683) * 10 + (r - 59048) * 11;
	else
		sum_r = (3 - 1) * 1 + (9 - 3) * 2 + (27 - 9) * 3 + (81 - 27) * 4
			  + (243 - 81) * 5 + (729 - 243) * 6 + (2187 - 729) * 7 + (6561 - 2187) * 8
			  + (19683 - 6561) * 9 + (59049 - 19683) * 10 + (177147 - 59049) * 11
			  + (r - 177146) * 12;

	int ans(sum_r - sum_l + 2 * extra); 
	std::cout << ans << std::endl;
}

/**
 * 1, 3, 9, 27, 81, 243, 729, 2187, 6561, 19683, 59049, 177147 
 * 0, 1, 2,  3,  4,   5,   6,    7,    8,     9,    10,     11
**/